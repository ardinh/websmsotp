function detailMovieJF(a,e,d,h,f,g,b,i){$("#link").val("");$("#subtitle").val("");$("#video").html("");$("#judulfilm").html("");$("#Posterfilm").html("");$("#link-inflixer").val("");$("#season").html("");$("#episode").html("");$("#judulfilmbioskopkeren").html("");$("#list").html('<div class="text-center"><i class="fa fa-spinner fa-spin fa-4x"></i></div>');$("#table-id").val(a);$("#list-info").hide();marktitle=d;searchTitleJF(a,i,1);if(i=="seri"){getlistseasonJF(a);getlistepisodeJF(a)}var c="<a href='"+f+"'><b>"+e+"</b></a>";$("#judulfilmbioskopkeren").html(c);$("#judulfilm").html("<b>"+d+"</b>");$("#tahunFilm").html("<b>"+g+"</b>");$("#director").html("<b>"+b+"</b>");$("#Posterfilm").html("<img src='"+h+"'/>")}function searchTitleJF(c,a,b){$("#list").html('<div class="text-center"><i class="fa fa-spinner fa-spin fa-4x"></i></div>');$.post(baseurl+"php/jf/searchTitle.php",{id:c,type:a,page:b}).done(function(d){if(d.total!=null){$("#btn-prev").prop("disabled",false);$("#list-info").show();$("#btn-next").prop("disabled",false);if(b==1){$("#btn-prev").prop("disabled",true)}if(b==d.total_pages){$("#btn-next").prop("disabled",true)}$("#btn-next").attr("onclick","searchTitleJF("+c+",'"+a+"',"+(b+1)+")");$("#btn-prev").attr("onclick","searchTitleJF("+c+",'"+a+"',"+(b-1)+")");$("#list-info-total").html("Total:"+d.total+", page:"+d.page+" of "+d.total_pages);$("#list").html(d.data);$("#list").mark(marktitle)}else{$("#list").html("")}}).fail(function(){$("#list").html("Gagal melakukan pencarian")})}function editSeasonJF(d,b){var a=$("#btnSubmitSeason_"+d).val();if(a==0){$("#txtseason_"+d).prop("readonly",false).focus();$("#btnSubmitSeason_"+d).val(1);$("#btnSubmitSeason_"+d).html("Save")}else{if(a==1){var c=$("#txtseason_"+d).val();$.post(baseurl+"php/jf/saveseason.php",{id:d,numseason:c}).done(function(f){console.log(f);var e=JSON.parse(f);if(e.code==1){alertSuccess(e.msg||"Success");getlistepisodeJF(b)}else{alertFail(e.msg||"error")}});$("#txtseason_"+d).prop("readonly",true);$("#btnSubmitSeason_"+d).val(0);$("#btnSubmitSeason_"+d).html("Edit")}}}function getlistseasonJF(a){$.get(baseurl+"php/jf/getseasons.php",{id:a}).done(function(b){$("#season").html(b)}).fail(function(){$("#season").html("Gagal menampilkan list episode")})}function getlistepisodeJF(a){$.get(baseurl+"php/jf/getseriesepisode.php",{id:a}).done(function(b){$("#episode").html(b)}).fail(function(){$("#episode").html("Gagal melakukan pencarian")})}function pilihmovieJF(d,a,b,c){$.confirm({content:function(){var e=this;return $.post(baseurl+"php/jf/pilihmovie.php",{id:d,inflixerid:a,title:b,poster:c,type:type}).done(function(g){console.log(g);var f=JSON.parse(g);e.close();if(f.code==1){$("#myModal").modal("hide");ajaxtable.fnDraw(false);alertSuccess(f.msg||"Success")}else{alertFail(f.msg||"error")}}).fail(function(){e.setContent("Something went wrong.")})}})}function fetchmovieJF(a){$.confirm({content:function(){var b=this;return $.post(baseurl+"php/jf/fetchmovie.php",{id:a}).done(function(d){console.log(d);var c=JSON.parse(d);b.close();if(c.code==1){ajaxtable.fnDraw(false);alertSuccess(c.msg||"Success")}else{alertFail(c.msg||"error")}}).fail(function(){b.setContent("Something went wrong.")})}})}function fetchepisodeJF(c,b,a){$.confirm({content:function(){var d=this;return $.post(baseurl+"php/jf/fetchepisode.php",{id:c,season:b,episode:a}).done(function(f){var e=JSON.parse(f);d.setContent(e.msg);d.close();if(e.code==1){d.setTitle("Success");alertSuccess(e.msg||"Success");getlistepisodeJF(c)}else{alertFail(e.msg||"error")}}).fail(function(){d.setContent("Something went wrong.")})}})}function fetchstatusJF(c,b,a){$.confirm({content:function(){var d=this;return $.post(baseurl+"php/jf/fetchstatus.php",{trx_id:b,type:a}).done(function(f){var e=JSON.parse(f);d.setContent(e.msg);d.close();if(e.code==1){d.setTitle("Success");alertSuccess(e.msg||"Success");if(a=="film"){ajaxtable.fnDraw(false)}else{getlistepisodeJF(c)}}else{alertFail(e.msg||"error");if(e.code==-10){if(a=="film"){ajaxtable.fnDraw(false)}else{getlistepisodeJF(c)}}}}).fail(function(){d.setContent("Something went wrong.")})}})}function fetchAllepisodeJF(a){$.confirm({content:function(){var b=this;return $.ajax({url:baseurl+"php/jf/fetchepisode.php",method:"post",data:{id:a}}).done(function(d){console.log(d);var c=JSON.parse(d);b.setContent(c.msg);if(c.code==1){b.setTitle("Success");getlistepisodeJF(a)}else{b.setTitle("Fail")}}).fail(function(){b.setContent("Something went wrong.")})}})}function submitlinkJF(){$.confirm({content:function(){var a=this;return $.post(baseurl+"php/jf/pilihmovie.php",{crawlerid:$("#table-id").val(),linkinflixer:$("#link-inflixer").val(),type:type}).done(function(c){console.log(c);var b=JSON.parse(c);a.close();if(b.code==1){$("#myModal").modal("hide");ajaxtable.fnDraw(false);alertSuccess(b.msg||"Success")}else{alertFail(b.msg||"error")}}).fail(function(){a.setContent("Something went wrong.")})}})}function unlinkMovieJF(a){$.post(baseurl+"php/jf/unlink.php",{id:a}).done(function(c){console.log(c);var b=JSON.parse(c);if(b.code==1){ajaxtable.fnDraw(false);alertSuccess(b.msg||"Success")}else{alertFail(b.msg||"error")}})};